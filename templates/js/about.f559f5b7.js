(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{4703:function(e,t,o){},"78c1":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"container",staticClass:"amap",staticStyle:{width:"1000px",height:"600px"}})},i=[],a=(o("d81d"),o("862d")),r=o.n(a),s={name:"AMap",beforeCreate:function(){var e=this;window._AMapSecurityConfig={securityJsCode:"d916527561290764f04b7284c408348f"},r.a.load({key:"49ff7cf3a2f52dafb09a6099ac289c22",version:"1.4.15",plugins:["AMap.ToolBar"],AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}}).then((function(t){e.$nextTick((function(){return e.initMap(t)}))})).catch((function(e){console.error(e)}))},methods:{initMap:function(e){this.map=new e.Map(this.$refs.container,{zoom:18,pitch:80,buildingAnimation:!0,expandZoomRange:!0,zooms:[3,18],lang:"zh_en",features:["building","bg","point"]});var t=this;e.plugin("AMap.ToolBar",(function(){var o=new e.ToolBar;t.map.addControl(o)}));var o=[114.17891001918079,22.303519892980272];e.convertFrom(o,"gps",(function(o,n){if("ok"===n.info){var i=n.locations[0].lng,a=n.locations[0].lat;t.map.setCenter([i,a]);var r=new e.Marker({position:new e.LngLat(i,a)});t.map.add(r)}}))}}},l=s,c=o("2877"),d=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=d.exports},"8b30":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"graph-root"}},[o("div",{attrs:{id:"graph-input"}},[o("el-input",{attrs:{type:"textarea",rows:3,placeholder:"Please input the question",resize:"none"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)}},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),o("div",{attrs:{id:"graph-content"}},[o("RelationGraph",{ref:"seeksRelationGraph",staticStyle:{"font-size":"20px"},attrs:{options:e.graphOptions,"on-node-click":e.onNodeClick,"on-line-click":e.onLineClick}})],1)])},i=[],a=(o("d3b7"),o("159b"),o("0491")),r=o.n(a),s={name:"graph",components:{RelationGraph:r.a},data:function(){return{textarea:"",graphOptions:{allowSwitchLineShape:!0,allowSwitchJunctionPoint:!0,defaultJunctionPoint:"border",layouts:[{layoutName:"force"}]},nodes:[],links:[]}},mounted:function(){var e={rootId:"空节点",nodes:[{id:"空节点",text:"空节点",color:"#1167be",borderColor:"#1167be",width:"80",height:"80"}],links:[],layouts:{layoutName:"force"}};this.showSeeksGraph(e)},methods:{showSeeksGraph:function(e){this.$refs.seeksRelationGraph.setJsonData(e,(function(e){}))},onNodeClick:function(e,t){console.log("onNodeClick:",e)},onLineClick:function(e,t){console.log("onLineClick:",e)},sendMessage:function(e){var t=this;e.preventDefault();var o=this,n=this.textarea;this.$axios.post("http://127.0.0.1:5000/getGraph",{question:n}).then((function(e){var n=e.data;if("NotFound"==n)o.$message({showClose:!0,message:"Answer Not Found!",type:"warning",duration:1e3}),console.log(n);else{var i={rootId:"",nodes:[],links:[],layouts:{layoutName:"force"}};n.forEach((function(e){var o={id:e.entity,text:e.entity,color:"#1167be",borderColor:"#1167be",width:"50",height:"50",innerHTML:'<div style="overflow: hidden;white-space: nowrap;text-overflow: ellipsis;line-height:50px;font-size:12px;border-radius:50%">'+e.entity+"</div>"};i.rootId=e.entity,i.nodes.push(o),e.object.forEach((function(t){if(t instanceof Array)t.forEach((function(t){var o={id:t,color:"#1167be",borderColor:"#1167be",width:"50",height:"50",innerHTML:'<div style="overflow: hidden;white-space: nowrap;text-overflow: ellipsis;line-height:50px;font-size:12px;border-radius:50%">'+t+"</div>"},n={from:e.entity,to:t,text:e.relation,color:"#43a2f1"};i.nodes.push(o),i.links.push(n)}));else{var o={id:t,width:"50",height:"50",color:"#1167be",borderColor:"#1167be",innerHTML:'<div style="overflow: hidden;white-space: nowrap;text-overflow: ellipsis;line-height:50px;font-size:12px;border-radius:50%">'+t+"</div>"},n={from:e.entity,to:t,text:e.relation,color:"#43a2f1"};i.nodes.push(o),i.links.push(n)}})),t.showSeeksGraph(i)}))}}))}}},l=s,c=(o("a973"),o("2877")),d=Object(c["a"])(l,n,i,!1,null,"f4b09d58",null);t["default"]=d.exports},a973:function(e,t,o){"use strict";o("4703")}}]);
//# sourceMappingURL=about.f559f5b7.js.map